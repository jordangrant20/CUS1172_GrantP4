<!DOCTYPE html>
<html>
<head>
    <title>Employee Search App</title>
    <!-- Bootstrap CSS - learned from class tutorial -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <link rel="stylesheet" href="front_end/css/style.css">
</head>
<body>
    <!-- Simple header -->
    <div class="container-fluid bg-primary text-white p-3 mb-4">
        <h1>Employee Management System</h1>
        <p>CUS1172 - Project 4</p>
    </div>

    <div class="container">
        <div class="row">
            <!-- Search form -->
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        <h3>Search Employees</h3>
                    </div>
                    <div class="card-body">
                        <form onsubmit="return false;" id="queryForm">
                            <!-- Name search -->
                            <div class="mb-3">
                                <label for="nameQuery" class="form-label">Employee Name:</label>
                                <input type="text" class="form-control" id="nameQuery" name="nameQuery" placeholder="Enter name...">
                                <button class="btn btn-primary mt-2" id="queryByName" onclick="updateView(this)" data-querytype="by_name">Search by Name</button>
                            </div>

                            <hr>

                            <!-- Age search -->
                            <div class="mb-3">
                                <label class="form-label">Search by Age:</label>
                                <div class="row">
                                    <div class="col">
                                        <label for="startAgeQuery" class="form-label">Min Age:</label>
                                        <input type="text" class="form-control" id="startAgeQuery" name="startAgeQuery" value="1">
                                    </div>
                                    <div class="col">
                                        <label for="endAgeQuery" class="form-label">Max Age:</label>
                                        <input type="text" class="form-control" id="endAgeQuery" name="endAgeQuery" value="99">
                                    </div>
                                </div>
                                <button class="btn btn-success mt-2 w-100" id="queryByAge" onclick="updateView(this)" data-querytype="by_age_range">Filter by Age</button>
                            </div>

                            <!-- Show all button -->
                            <button class="btn btn-info w-100" onclick="showAll()" type="button">Show All Employees</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Results -->
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h3>Results</h3>
                    </div>
                    <div class="card-body">
                        <div id="results">
                            <p class="text-muted">Use the search form to find employees.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Simple footer -->
    <div class="container-fluid bg-light text-center p-3 mt-5">
        <p>&copy; 2025 Employee Management App - Built with Bootstrap</p>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="front_end/js/app.js"></script>
</body>
</html>

<!-- Handlebars template for showing results -->
<script id="show_results_view" type="text/x-handlebars-template">
    {{#if employee}}
        <div class="alert alert-success">Found {{employee.length}} employee(s)</div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Age</th>
                    <th>Salary</th>
                </tr>
            </thead>
            <tbody>
                {{#each employee}}
                <tr>
                    <td>{{this.id}}</td>
                    <td>{{this.EmployeeName}}</td>
                    <td>{{this.EmployeeAge}}</td>
                    <td>${{this.EmployeeSalary}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    {{else}}
        <div class="alert alert-warning">No employees found.</div>
    {{/if}}
</script>
